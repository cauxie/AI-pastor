<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Pastor Chat</title>
  <link rel="icon" href="images/favicon2.png" sizes="96x96" type="image/png">
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* ===== SUBTLE BACKGROUND MOTION ===== */
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .animated-bg {
  position: relative;
  overflow: hidden;

  /* gradient that will animate */
  background: linear-gradient(135deg, #1e3a8a, #2563eb, #14b8a6, #1e3a8a);
  background-size: 200% 200%;
  animation: gradientShift 40s ease infinite;
}

    /* faint floating light particles */
    .animated-bg::after {
      content: "";
      position: absolute;
      inset: 0;
      background-image:
        radial-gradient(1px 1px at 20% 30%, rgba(255,255,255,0.15), transparent),
        radial-gradient(1px 1px at 80% 40%, rgba(255,255,255,0.12), transparent),
        radial-gradient(1px 1px at 50% 70%, rgba(255,255,255,0.1), transparent);
      animation: floatDust 60s linear infinite;
      pointer-events: none;
    }

    @keyframes floatDust {
      from { transform: translateY(0); }
      to { transform: translateY(-40px); }
    }

    /* ===== MESSAGE ENTRY ANIMATION ===== */
    .message-animate {
      opacity: 0;
      transform: translateY(10px);
      animation: fadeSlideUp 0.25s forwards; /* 250ms duration */
    }

    @keyframes fadeSlideUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* ===== SOFT GLASS GLOW ON INPUT FOCUS ===== */
    #userQuestion:focus {
      border-color: rgba(255, 255, 255, 0.5);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
      transition: box-shadow 0.3s ease, border-color 0.3s ease;
    }

     /* ===== TOP RIGHT ICONS ===== */
    .top-icons {
      position: fixed;
      top: 1rem;
      right: 1rem;
      display: flex;
      gap: 1rem;
      z-index: 50;
    }

    .top-icons button {
      background: rgba(255,255,255,0.1);
      backdrop-blur: 10px;
      border-radius: 50%;
      padding: 0.5rem;
      transition: background 0.2s, transform 0.2s;
    }

    .top-icons button:hover {
      background: rgba(255,255,255,0.2);
      transform: scale(1.1);
    }

    .top-icons svg {
      width: 1.5rem;
      height: 1.5rem;
      color: white;
    }


    /* ===== TOAST NOTIFICATION ===== */
.toast {
  position: fixed;
  top: 4rem;
  right: 1rem;
  background: rgba(255, 255, 255, 0.2);
  backdrop-blur: 10px;
  color: white;
  padding: 0.75rem 1.25rem;
  border-radius: 1rem;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  opacity: 0;
  transform: translateY(-10px);
  transition: opacity 0.3s ease, transform 0.3s ease;
  z-index: 60;
}

.toast.show {
  opacity: 1;
  transform: translateY(0);
}


  </style>
</head>

<body class="animated-bg min-h-screen flex flex-col items-center justify-center">



 <!-- TOP RIGHT ICONS -->
  <div class="top-icons">
    <button aria-label="Home">
      <!-- Home SVG Icon -->
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M3 9.75L12 3l9 6.75V21a1.5 1.5 0 01-1.5 1.5H4.5A1.5 1.5 0 013 21V9.75z" />
      </svg>
    </button>

    <button aria-label="Profile">
      <!-- Profile/User SVG Icon -->
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M5.121 17.804A9 9 0 1112 21a9 9 0 01-6.879-3.196zM15 11a3 3 0 11-6 0 3 3 0 016 0z" />
      </svg>
    </button>
  </div>

  

    <!-- Logo -->
    <img src="images/favicon2.png" alt="AI Pastor Logo" class="h-12 mb-6">

    <!-- Greeting -->
    <h1 class="text-white text-2xl font-semibold mb-1">
      Hi, Iâ€™m AI Pastor.
    </h1>
    <p class="text-white/80 mb-10">
      How can I help you today?
    </p>

    <!-- GLASS INPUT BAR -->
    <div class="w-full max-w-3xl mb-6
                bg-white/15 backdrop-blur-xl
                border border-white/20
                rounded-3xl shadow-2xl
                px-5 py-4 flex items-center">

      <input
        id="userQuestion"
        type="text"
        placeholder="Ask anything..."
        class="flex-1 bg-transparent outline-none text-white
               placeholder-white/60 text-lg"
      >

      <button
        id="askButton"
        class="ml-4 w-11 h-11 rounded-full
               bg-green-500 hover:bg-green-600
               flex items-center justify-center
               transition shadow-lg"
        aria-label="Send"
      >
        <svg xmlns="http://www.w3.org/2000/svg"
             class="h-5 w-5 text-white"
             fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M5 12l14-7-4 7 4 7-14-7z" />
        </svg>
      </button>

    </div>

    <!-- AI PASTOR REPLIES COLUMN -->
    <div id="chatArea"
         class="w-full max-w-3xl
                bg-white/10 backdrop-blur-xl
                border border-white/15
                rounded-3xl shadow-xl
                p-6 space-y-4
                max-h-[45vh] overflow-y-auto">

      <!-- AI messages will appear here -->

    </div>

  </main>

  <script>
    const askButton = document.getElementById("askButton");
    const input = document.getElementById("userQuestion");
    const chatArea = document.getElementById("chatArea");

    askButton.addEventListener("click", sendMessage);
    input.addEventListener("keydown", e => {
      if (e.key === "Enter") sendMessage();
    });

    async function sendMessage() {
      const question = input.value.trim();
      if (!question) return;

      input.value = "";

      // User message
      const userMsg = document.createElement("div");
      userMsg.className =
        "ml-auto bg-white/20 text-white p-4 rounded-2xl max-w-[80%] message-animate";
      userMsg.textContent = question;
      chatArea.appendChild(userMsg);

      // AI thinking
      const aiMsg = document.createElement("div");
      aiMsg.className =
        "bg-white/15 text-white p-4 rounded-2xl max-w-[80%] message-animate";
      aiMsg.textContent = "AI Pastor is thinking...";
      chatArea.appendChild(aiMsg);

      chatArea.scrollTop = chatArea.scrollHeight;

      try {
        const response = await fetch("/api/ask-ai", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ question })
        });

        const data = await response.json();
        aiMsg.textContent = data.answer || "No answer received.";

      } catch (err) {
        aiMsg.textContent = "Error connecting to AI Pastor.";
      }

      chatArea.scrollTop = chatArea.scrollHeight;
    }

    
  </script>

<div id="toast" class="toast">Accounts will be available soon!</div>

<script>
// Select profile button and toast
const profileBtn = document.querySelector('button[aria-label="Profile"]');
const toast = document.getElementById("toast");

profileBtn.addEventListener("click", () => {
  // Show toast
  toast.classList.add("show");

  // Hide after 2 seconds
  setTimeout(() => {
    toast.classList.remove("show");
  }, 2000);
});


</script>

</body>
</html>
